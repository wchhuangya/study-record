## jQuery 基础

1. 简介

   1 jQuery 是一个优秀的 JavaScript 库，而非 JavaScript。它是轻量级的库

   2 兼容 CSS3，以及各种浏览器

   3 版本：1.x 兼容低端浏览器，2.x 兼容从 IE9 开始以及高端浏览器

   4 jQuery 使用户能更方便地处理 HTML、events、实现动画效果，并且方便的为网站提供 Ajax 交互

   5 优势：文档说明很全，各种应用也说得很详细，同时还有许多成熟的插件可供选择

   6 核心理念：write less，do more

2. 引入 jQuery
   1. 官网：http://jquery.com
   2. 下载文件，拷贝到项目中
3. jQuery 语法
   1. $(selector).action()
   2. 美元符号 $ 定义 jQuery
   3. 选择符（selector）查询和查找 HTML 元素
   4. jQuery 的 action 执行对元素的操作

## Jquery 选择器

### 基础选择器

1. $("*") ：选择所有元素。注意：由于它获取的是所有元素，因此，有些浏览器会比较缓慢，该选择器需要谨慎使用
2. $(".class") ：选择给定样式类名的所有元素
3. $("element") ：根据给定的 HTML 标记名称选择所有的元素
4. $("#id") ：选择一个具有给定 ID 属性的单个元素
5. $("selector1, selector2, selectorn") ：将每一个选择器匹配到的元素合并后一起返回

### 属性选择器

> 属性选择器中的引号是可选的，可以是不带引号的一个单词，或带一个引号的字符串

1. $("[attribute='value']") ：选择指定属性值等于给定字符串或以该字符串为前缀（该字符串后跟一个 - ）的元素
2. $("[attribute*='value']") ：选择指定属性具有包含一个给定的子字符串的元素（也就是给定属性包含某些值的元素）
3. $("[attribute~='value']") ：选择指定属性用**空格分隔**的值中包含一个给定值的元素
4. $("[attribute='value']") ：选择指定属性是给定值的元素
5. $("[attribute!='value']") ：选择不存在指定属性，或者指定的属性值不等于给定值的元素
6. $("[attribute\$='value']") ：选择指定属性是以给定值结尾的元素，**该比较区分大小写**
7. $("[attribute^='value']") ：选择指定属性是以给定字符串开始的元素
8. $("[attribute]") ：选择所有具有指定属性的元素，该属性可以是任何值
9. $("\[attribute1\]\[attribute2\][attributeN\]") ：选择匹配所有指定的属性筛选器的元素

### 基础过滤

1. $(":animated") ：选择所有正在执行动画效果的元素
2. $(":eq(index)") ：在匹配的集合中选择索引值为 index 的元素。注意：index 是要匹配元素的索引值，从 0 开始计数，如果为负值则从最后一个元素开始计数
3. $(":even/:odd") ：选择索引值为奇数/偶数的元素，从 0 开始计数
4. $(":first") ：选择第一个匹配的元素
5. $(":focus") ：选择当前获得焦点的元素
6. $(":header") ：选择所有标题元素，像 h1，h2，h3 等
7. $(":last") ：选择最后一个匹配的元素
8. $(":gt(index)") ：选择匹配集合中所有大于给定 index （索引值，不包含）的元素
9. $(":lt(index)") ：选择匹配集合中所有索引值小于给定 index （索引值，不包含）元素的值
10. $(":not(selector)") ：选择所有元素去除不匹配给定的选择器的内容

### 子元素过滤

1. $(":first-child") ：选择所有父级元素下的第一个子元素
2. $(":last-child") ：选择所有父级元素下的最后一个子元素
3. $(":first-of-type") ：选择所有相同的元素名称的第一个兄弟元素
4. $(":last-of-type") ：选择的所有元素之间具有相同元素名称的最后一个兄弟元素
5. $(":nth-child(index/even/odd/equation)") ：选择它们所有父元素的第 n 个子元素

### 内容过滤

1. $(":contains(text)") ：选择所有包含指定文本的元素

> text 是用来查找的一个文本字符串。这是区分大小写的。匹配的文本可以直接出现在所选的元素中，或在该元素的任何后代中，或两者兼有

2. $(":empty") ：选择所有没有子元素的元素（包括文本节点）
3. $(":has(selector)") ：选择元素其中至少包含指定选择器匹配的一种元素
4. $(":parent") ：选择所有含有子元素或者文本的父级元素

### 表单

1. $(":button") ：选择所有按钮元素和类型为按钮的元素
2. $(":checkbox") ：选择所有类型为复选框的元素
3. $(":checked") ：匹配所有勾选的元素
4. $(":disabled") ：选择所有被禁用的元素
5. $(":enabled") ：选择所有可用的（未被禁用的）元素
6. $(":file") ：选择所有类型为文件（file）的元素
7. $(":focus") ：选择当前获取焦点的元素
8. $(":image") ：选择所有图像类型的元素
9. $(":input") ：选择所有 input，textarea，select 和 button 元素
10. $(":password") ：虚则所有类型为密码的元素
11. $(":radio") ：选择所有类型为单选框的元素
12. $(":submit") ：选择所有类型为提交的元素

### 层级

1. $("parent > child") ：子元素选择器，选择所有指定 “parent” 元素中指定的直接子元素 “child”
2. $("ancestor descendant") ：后代选择器，选择给定的祖先元素的所有后代元素
3. $("prev + next") ：相邻选择器，选择所有紧接在 “prev” 元素后的 “next“ 元素
4. $("prev ~ siblings") ：兄弟选择器，匹配 “prev” 元素之后的所有兄弟元素

> 注意相邻选择器与兄弟选择器的区别：
>
> 前者只能选择紧随的同级元素，后者可以选择跟随其父的所有同级元素

### jQuery 扩展

| 选择器                                       | 描述                                                   |
| -------------------------------------------- | ------------------------------------------------------ |
| :animated Selector                           | 选择所有正在执行动画效果的元素                         |
| Attribute Not Equal Selector [name!="value"] | 选择不存在指定属性，或者指定的属性值不等于给定值的元素 |
| :button Selector                             | 选择所有按钮元素和类型为按钮的元素                     |
| :checkbox Selector                           | 选择所有类型为复选框的元素                             |
| :eq() Selector                               | 在匹配的集合中选择索引值为 index 的元素                |
| :even Selector                               | 选择索引值为偶数的元素，从 0 开始计数，也可以查看 odd  |
| :file Selector                               | 选择所有类型为文件（file）的元素                       |
| :first Selector                              | 选择第一个匹配的元素                                   |
| :gt() Selector                               | 选择匹配集合中所有大于给定 index（索引值）的元素       |
| :has Selector                                | 选择元素其中至少包含指定选择器匹配的一个种元素         |
| :header Selector                             | 选择所有的标题元素，像 h1，h2，h3 等                   |
| :hidden Selector                             | 选择所有的隐藏元素                                     |
| :image Selector                              | 选择所有图像类型的元素                                 |
| :input Selector                              | 选择所有 input，textarea，select 和 button 元素        |
| :last Selector                               | 选择最后一个匹配的元素                                 |
| :lt() Selector                               | 选择匹配集合中所有索引值小于给定 index 参数的元素      |
| :parent Selector                             | 选择所有含有子元素或者文本的父级元素                   |
| :password Selector                           | 选择所有类型为密码的元素                               |
| :radio Selector                              | 选择所有类型为单选框的元素                             |
| :reset Selector                              | 选择所有类型为重置的元素                               |
| :selected Selector                           | 获取 select 元素中所有被选中的元素                     |
| :submit Selector                             | 选择所有类型为提交的元素                               |
| :text Selector                               | 选择所有类型为文本的元素                               |
| :visible Selector                            | 选择所有可见的元素                                     |

> jQuery 的上述选择器，是扩展了 CSS3 中的选择器，使用它们无法提升性能。实际使用时，应该先使用 CSS 基本的选择器进行选择，然后使用上述选择器进行过滤。

### 可见性过滤

1. $(":hidden") ：选择所有隐藏的元素

   > 元素可以被认为是隐藏的几种情况：
   >
   > 1. 它们的 CSS display 的值是 none
   > 2. 它们是 type="hidden" 的表单元素
   > 3. 它们的宽度和高度都设置为 0
   > 4. 一个祖先元素是隐藏的，因此该元素是不会在页面上显示

2. $(":visible") ：选择所有可见的元素

   > 1. 如果元素占据文档中一定的空间，元素被认为是可见的，可见元素的宽度和高度，是大于零。所以：元素的 visible: hidden 或 opacity: 0 被认为是可见的，因为它们任然占用空间布局
   > 2. 不在文档中的元素是被认为隐藏的，jQuery 没有办法知道它们是否可见，因为元素可见性依赖于适用的样式
   > 3. 隐藏元素上做动画，元素被认为是可见的，直到动画结束；显示元素上做动画，在动画的开始处该元素被认为是可见的

## 事件

### 鼠标事件

1. **click()** ：点击事件
2. **dbclick()** ：双击事件
3. **hover()** ：鼠标悬停和离开
4. **mousedown()** ：鼠标按下
5. **mouseenter()** ：鼠标进入元素
6. **mouseleave()** ：鼠标离开元素
7. **mousemove()** ：鼠标在元素内移动
8. **mouseout()** ：鼠标离开元素（支持事件冒泡）
9. **mouseover()** ：鼠标进入元素内（支持事件冒泡）
10. **mouseup()** ：鼠标按键被释放

### 键盘事件

#### 常用键盘按键对应代码

| 按键      | 代码 |
| --------- | ---- |
| Backspace | 8    |
| Tab       | 9    |
| Clear     | 12   |
| Enter     | 13   |
| Shift     | 16   |
| Control   | 17   |
| Alt       | 18   |
| Caps Lock | 20   |
| Esc       | 27   |
| 空格键    | 32   |

#### 常用事件

1. **keydown()** ：键盘按下时被触发，可以绑定到任何元素，但是只能响应可以获取焦点的元素
2. **keypress()** ：敲击键盘时触发
3. **keyup()** ：按键释放时被触发

> 当以上三个事件都被注册时：
>
> 1. 先触发 keydown，再触发 keypress
> 2. 只有在 keydown 和 keypress 事件都没有注册的情况下，才会触发 keyup

### 浏览器事件

1. **error()** ：出现错误的处理事件。**已经被弃用**
2. **resize()** ：页面大小发生了改变
3. **scroll()** ：滚动事件

### 文档加载事件

1. ready ：ready 事件在 DOM 结构绘制完成以后就会执行。这样能确保就算有大量的媒体文件没有加载出来，JS 代码一样可以执行
2. load ：load 事件必须等到网页中所有内容全部加载完毕之后才被执行。如果一个网页中有大量的图片的话，就会出现如下情况：网页文档已经呈现出来，但由于网页数据还没有完全加载完毕，导致 load 事件不能够及时被触发

#### 文档加载过程

1. 解析 HTML 结构
2. 加载外部脚本和样式表文件
3. 解析并执行脚本文件
4. 构造 HTML DOM 模型 // ready
5. 加载图片等外部文件
6. 页面加载完毕 // load

### 绑定事件处理器

1. **bind()** ：为元素绑定一个事件处理程序
2. **delegate()**
3. **off()**
4. **on()**
5. **one()**
6. **unbind()**
7. **undelegate()**

### 事件对象

1. event.currentTarget ：它指向的是事件的监听者
2. event.target ：它指向的是事件的目标
3. event.delegateTarget ：它是一个绑定了当前正在调用 jQuery 事件处理器的元素，即当前事件的委托者
4. event.pageX
5. event.pageY
6. event.type
7. event.preventDefault()
8. event.stopPropagation()

