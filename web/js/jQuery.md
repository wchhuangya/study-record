## jQuery 基础

1. 简介

   1 jQuery 是一个优秀的 JavaScript 库，而非 JavaScript。它是轻量级的库

   2 兼容 CSS3，以及各种浏览器

   3 版本：1.x 兼容低端浏览器，2.x 兼容从 IE9 开始以及高端浏览器

   4 jQuery 使用户能更方便地处理 HTML、events、实现动画效果，并且方便的为网站提供 Ajax 交互

   5 优势：文档说明很全，各种应用也说得很详细，同时还有许多成熟的插件可供选择

   6 核心理念：write less，do more

2. 引入 jQuery
   1. 官网：http://jquery.com
   2. 下载文件，拷贝到项目中
3. jQuery 语法
   1. $(selector).action()
   2. 美元符号 $ 定义 jQuery
   3. 选择符（selector）查询和查找 HTML 元素
   4. jQuery 的 action 执行对元素的操作

## Jquery 选择器

### 基础选择器

#### $("*") 

选择所有元素。注意：由于它获取的是所有元素，因此，有些浏览器会比较缓慢，该选择器需要谨慎使用

#### $(".class") 

选择给定样式类名的所有元素

#### $("element") 

根据给定的 HTML 标记名称选择所有的元素

#### $("#id") 

选择一个具有给定 ID 属性的单个元素

#### $("selector1, selector2, selectorn") 

将每一个选择器匹配到的元素合并后一起返回

### 属性选择器

> 属性选择器中的引号是可选的，可以是不带引号的一个单词，或带一个引号的字符串

#### $("[attribute='value']") 

选择指定属性值等于给定字符串或以该字符串为前缀（该字符串后跟一个 - ）的元素

#### $("[attribute*='value']") 

选择指定属性具有包含一个给定的子字符串的元素（也就是给定属性包含某些值的元素）

#### $("[attribute~='value']") 

选择指定属性用**空格分隔**的值中包含一个给定值的元素

#### $("[attribute='value']") 

选择指定属性是给定值的元素

#### $("[attribute!='value']")

选择不存在指定属性，或者指定的属性值不等于给定值的元素

#### $("[attribute\$='value']") 

选择指定属性是以给定值结尾的元素，**该比较区分大小写**

#### $("[attribute^='value']") 

选择指定属性是以给定字符串开始的元素

#### $("[attribute]") 

选择所有具有指定属性的元素，该属性可以是任何值

#### $("\[attribute1\]\[attribute2\][attributeN\]") 

选择匹配所有指定的属性筛选器的元素

### 基础过滤

#### $(":animated") 

选择所有正在执行动画效果的元素

#### $(":eq(index)") 

在匹配的集合中选择索引值为 index 的元素。注意：index 是要匹配元素的索引值，从 0 开始计数，如果为负值则从最后一个元素开始计数

#### $(":even/:odd") 

选择索引值为奇数/偶数的元素，从 0 开始计数

#### $(":first") 

选择第一个匹配的元素

#### $(":focus") 

选择当前获得焦点的元素

#### $(":header") 

选择所有标题元素，像 h1，h2，h3 等

#### $(":last") 

选择最后一个匹配的元素

#### $(":gt(index)") 

选择匹配集合中所有大于给定 index （索引值，不包含）的元素

#### $(":lt(index)") 

选择匹配集合中所有索引值小于给定 index （索引值，不包含）元素的值

#### $(":not(selector)") 

选择所有元素去除不匹配给定的选择器的内容

### 子元素过滤

#### $(":first-child") 

选择所有父级元素下的第一个子元素

#### $(":last-child") 

选择所有父级元素下的最后一个子元素

#### $(":first-of-type") 

选择所有相同的元素名称的第一个兄弟元素

#### $(":last-of-type") 

选择的所有元素之间具有相同元素名称的最后一个兄弟元素

#### $(":nth-child(index/even/odd/equation)") 

选择它们所有父元素的第 n 个子元素

### 内容过滤

#### $(":contains(text)") 

选择所有包含指定文本的元素

> text 是用来查找的一个文本字符串。这是区分大小写的。匹配的文本可以直接出现在所选的元素中，或在该元素的任何后代中，或两者兼有

#### $(":empty") 

选择所有没有子元素的元素（包括文本节点）

#### $(":has(selector)") 

选择元素其中至少包含指定选择器匹配的一种元素

#### $(":parent") 

选择所有含有子元素或者文本的父级元素

### 表单

#### $(":button") 

选择所有按钮元素和类型为按钮的元素

#### $(":checkbox") 

选择所有类型为复选框的元素

#### $(":checked") 

匹配所有勾选的元素

#### $(":disabled") 

选择所有被禁用的元素

#### $(":enabled") 

选择所有可用的（未被禁用的）元素

#### $(":file") 

选择所有类型为文件（file）的元素

#### $(":focus") 

选择当前获取焦点的元素

#### $(":image") 

选择所有图像类型的元素

#### $(":input") 

选择所有 input，textarea，select 和 button 元素

#### $(":password") 

虚则所有类型为密码的元素

#### $(":radio") 

选择所有类型为单选框的元素

#### $(":submit") 

选择所有类型为提交的元素

### 层级

#### $("parent > child") 

子元素选择器，选择所有指定 “parent” 元素中指定的直接子元素 “child”

#### $("ancestor descendant") 

后代选择器，选择给定的祖先元素的所有后代元素

#### $("prev + next") 

相邻选择器，选择所有紧接在 “prev” 元素后的 “next“ 元素

#### $("prev ~ siblings") 

兄弟选择器，匹配 “prev” 元素之后的所有兄弟元素

> 注意相邻选择器与兄弟选择器的区别：
>
> 前者只能选择紧随的同级元素，后者可以选择跟随其父的所有同级元素

### jQuery 扩展

| 选择器                                       | 描述                                                   |
| -------------------------------------------- | ------------------------------------------------------ |
| :animated Selector                           | 选择所有正在执行动画效果的元素                         |
| Attribute Not Equal Selector [name!="value"] | 选择不存在指定属性，或者指定的属性值不等于给定值的元素 |
| :button Selector                             | 选择所有按钮元素和类型为按钮的元素                     |
| :checkbox Selector                           | 选择所有类型为复选框的元素                             |
| :eq() Selector                               | 在匹配的集合中选择索引值为 index 的元素                |
| :even Selector                               | 选择索引值为偶数的元素，从 0 开始计数，也可以查看 odd  |
| :file Selector                               | 选择所有类型为文件（file）的元素                       |
| :first Selector                              | 选择第一个匹配的元素                                   |
| :gt() Selector                               | 选择匹配集合中所有大于给定 index（索引值）的元素       |
| :has Selector                                | 选择元素其中至少包含指定选择器匹配的一个种元素         |
| :header Selector                             | 选择所有的标题元素，像 h1，h2，h3 等                   |
| :hidden Selector                             | 选择所有的隐藏元素                                     |
| :image Selector                              | 选择所有图像类型的元素                                 |
| :input Selector                              | 选择所有 input，textarea，select 和 button 元素        |
| :last Selector                               | 选择最后一个匹配的元素                                 |
| :lt() Selector                               | 选择匹配集合中所有索引值小于给定 index 参数的元素      |
| :parent Selector                             | 选择所有含有子元素或者文本的父级元素                   |
| :password Selector                           | 选择所有类型为密码的元素                               |
| :radio Selector                              | 选择所有类型为单选框的元素                             |
| :reset Selector                              | 选择所有类型为重置的元素                               |
| :selected Selector                           | 获取 select 元素中所有被选中的元素                     |
| :submit Selector                             | 选择所有类型为提交的元素                               |
| :text Selector                               | 选择所有类型为文本的元素                               |
| :visible Selector                            | 选择所有可见的元素                                     |

> jQuery 的上述选择器，是扩展了 CSS3 中的选择器，使用它们无法提升性能。实际使用时，应该先使用 CSS 基本的选择器进行选择，然后使用上述选择器进行过滤。

### 可见性过滤

#### $(":hidden") 

选择所有隐藏的元素

> 元素可以被认为是隐藏的几种情况：
>
> 1. 它们的 CSS display 的值是 none
> 2. 它们是 type="hidden" 的表单元素
> 3. 它们的宽度和高度都设置为 0
> 4. 一个祖先元素是隐藏的，因此该元素是不会在页面上显示

#### $(":visible") 

选择所有可见的元素

> 1. 如果元素占据文档中一定的空间，元素被认为是可见的，可见元素的宽度和高度，是大于零。所以：元素的 visible: hidden 或 opacity: 0 被认为是可见的，因为它们任然占用空间布局
> 2. 不在文档中的元素是被认为隐藏的，jQuery 没有办法知道它们是否可见，因为元素可见性依赖于适用的样式
> 3. 隐藏元素上做动画，元素被认为是可见的，直到动画结束；显示元素上做动画，在动画的开始处该元素被认为是可见的

## 事件

### 鼠标事件

#### click()

点击事件

#### dbclick()

双击事件

#### hover()

鼠标悬停和离开

#### mousedown()

鼠标按下

#### mouseenter()

鼠标进入元素

#### mouseleave()

鼠标离开元素

#### mousemove()

鼠标在元素内移动

#### mouseout()

鼠标离开元素（支持事件冒泡）

#### mouseover()

鼠标进入元素内（支持事件冒泡）

#### mouseup()

鼠标按键被释放

### 键盘事件

#### 常用键盘按键对应代码

| 按键      | 代码 |
| --------- | ---- |
| Backspace | 8    |
| Tab       | 9    |
| Clear     | 12   |
| Enter     | 13   |
| Shift     | 16   |
| Control   | 17   |
| Alt       | 18   |
| Caps Lock | 20   |
| Esc       | 27   |
| 空格键    | 32   |

#### 常用事件

#### keydown()

键盘按下时被触发，可以绑定到任何元素，但是只能响应可以获取焦点的元素

#### keypress()

敲击键盘时触发

#### keyup()

按键释放时被触发

> 当以上三个事件都被注册时：
>
> 1. 先触发 keydown，再触发 keypress
> 2. 只有在 keydown 和 keypress 事件都没有注册的情况下，才会触发 keyup

### 浏览器事件

#### error()

出现错误的处理事件。**已经被弃用**

#### resize()

页面大小发生了改变

#### scroll()

滚动事件

### 文档加载事件

#### ready 

ready 事件在 DOM 结构绘制完成以后就会执行。这样能确保就算有大量的媒体文件没有加载出来，JS 代码一样可以执行

#### load 

load 事件必须等到网页中所有内容全部加载完毕之后才被执行。如果一个网页中有大量的图片的话，就会出现如下情况：网页文档已经呈现出来，但由于网页数据还没有完全加载完毕，导致 load 事件不能够及时被触发

#### 文档加载过程

1. 解析 HTML 结构
2. 加载外部脚本和样式表文件
3. 解析并执行脚本文件
4. 构造 HTML DOM 模型 // ready
5. 加载图片等外部文件
6. 页面加载完毕 // load

### 绑定事件处理器

#### bind()

为元素绑定一个事件处理程序

#### delegate()

#### off()

#### on()

#### one()

#### unbind()

#### undelegate()

### 事件对象

#### event.currentTarget 

它指向的是事件的监听者

#### event.target 

它指向的是事件的目标

#### event.delegateTarget 

它是一个绑定了当前正在调用 jQuery 事件处理器的元素，即当前事件的委托者

#### event.pageX 

鼠标相对于文档左边缘的位置

#### event.pageY 

鼠标相对于文档上边缘的位置

#### event.type 

获取当前的事件类型

#### event.preventDefault() 

阻止默认事件

#### event.stopPropagation() 

阻止事件冒泡

### 表单事件

#### focus() 

获得焦点事件，适用于所有元素

#### blur() 

失去焦点事件，适用于所有元素

#### change() 

元素的值改变的事件，仅适用于：input，select，textarea 元素

#### select() 

帮用户在一个元素中进行文本选择时触发，仅适用于：input[type="text"]，textarea 元素

#### submit() 

当用户试图提交表单时触发，只能绑定在表单上

## DOM

### DOM 属性

#### addClass(className)

为每个匹配的元素添加指定的样式类名

#### attr(attributeName)

获取匹配的元素集合中的第一个元素的属性的值；设置每一个匹配元素的一个或多个属性

#### hasClass(className)

确定任何一个匹配元素是否有被分配给定的（样式）类

#### html()

获取集合中第一个匹配元素的 HTML 内容；设置每一个匹配元素的 HTML 内容

#### prop(propertyName)

获取匹配的元素集合中第一个元素的属性（property）值；为匹配的元素设置一个或多个属性

#### removeAttr(attributeName)

为匹配的元素集合中的每个元素移除一个属性

#### removeClass([className])

移除集合中每个匹配元素上的一个、多个或全部样式

#### removeProp(propertyName)

为集合中匹配的元素删除一个属性

#### toggleClass() 

在匹配的元素集合中的每个元素上添加或删除一个或多个样式类，取决于这个样式类是否存在或值切换属性，即：如果存在（不存在）就删除（添加）一个类

#### val() 

获取匹配的元素集合中第一个元素的当前值；设置匹配的元素集合中每个元素的值

### DOM 操作

#### class 属性

addClass()，hasClass()，removeClass()，toggleClass()

#### DOM 插入并包裹现有内容

##### wrap ( wrappingElement ) 

在每个匹配的元素外层包上一个 html 元素

##### unwrap() 

将匹配元素集合的父级元素删除，保留自身（和兄弟元素，如果存在）在原来的位置

##### wrapAll( wrappingElement ) 

在所有匹配元素外面包一层 HTML 结构

##### wrapInner( wrappingElement ) 

在匹配元素里的 **内容外** 包一层结构

#### DOM 插入现有元素内

##### append() 

在每个匹配元素里面的末尾处插入参数内容

##### appendTo() 

将匹配的元素插入到目标元素的最后面（内部插入）

##### html() 

获取集合中第一个匹配元素的 HTML 内容；设置每一个匹配元素的 HTML 内容

##### prepend() 

将参数内容插入到每个匹配元素的前面（元素内）

##### prependTo() 

将所有元素插入到目标前面（元素内）

##### text() 

得到匹配元素集合中每个元素的合并文本，包括他们的后代设置匹配元素集合中每个元素的文本内容为指定的文本内容

##### clone() 

创建一个匹配的元素集合的深度拷贝副本

#### DOM 插入现有元素外

##### after() 

在匹配元素集合中的每个元素后面插入参数所指定的内容，作为其兄弟节点

##### before() 

根据参数设定，在匹配元素的前面插入内容（外部插入）

##### insertAfter() 

在目标元素后面插入集合中每个匹配的元素（注：插入的元素作为目标元素的兄弟元素）

##### insertBefore() 

在目标元素前面插入集合中每个匹配的元素（注：插入的元素作为目标元素的兄弟元素）

#### DOM 移除

##### detach() 

从 DOM 中去掉所有匹配的元素

##### empty() 

从 DOM 中移除集合中匹配元素的所有子节点

##### remove() 

将匹配元素集合从 DOM 中移除（注：同时移除元素上的事件及 jQuery 数据）

##### unwrap() 

将匹配元素集合的父级元素删除，保留自身（和兄弟元素，如果存在）在原来的位置

#### DOM 替换

##### replaceAll() 

用集合的匹配元素替换每个目标元素

##### replaceWith() 

用提供的内容替换集合中所有匹配的元素并且返回被删除元素的集合

##### 通用属性操作

attr()、prop()、removeAttr()、removeProp()、val()

#### CSS 属性

##### css() 

获取匹配元素集合中的第一个元素的样式属性的值；设置每个匹配元素的一个或多个 CSS 属性

##### height() 

获取匹配元素集合中的第一个元素的当前计算高度值；设置每一个元素的高度值

##### width() 

为匹配的元素集合中获取第一个元素的当前计算宽度值；给每个匹配的元素设置 CSS 宽度

##### innerHeight() 

为匹配的元素集合中获取第一个元素的当前计算高度值，包括 padding，但不包括 border

##### innerWidth() 

为匹配的元素集合中获取第一个元素的当前计算宽度值，包括 padding，但不包括 border

##### offset() 

在匹配的元素集合中，获取的第一个元素的当前坐标，坐标相对于文档；设置匹配的元素集合中每一个元素的坐标，坐标相对于文档

##### outerHeight() 

获取元素集合中第一个元素的当前计算高度值，包括 padding、border 和选择性的 margin。返回一个整数（不包含 “px”）表示的值，或如果在一个空集合上调用该方法，则返回 null

##### outerWidth() 

获取元素集合中第一个元素的当前计算宽度值，包括 padding、border 和选择性的 margin。返回一个整数（不包含 “px”）表示的值，或如果在一个空集合上调用该方法，则返回 null

##### position() 

获取匹配元素中第一个元素的当前坐标，相对于 offset parent 的坐标（offset parent 指离该元素最近的而且被定位过的祖先元素）

##### scrollLeft() 

获取匹配的元素集合中第一个元素的当前水平滚动条的位置；设置每个匹配元素的水平滚动条位置

##### scrollTop() 

获取匹配的元素集合中第一个元素的当前垂直滚动条的位置；设置每个匹配元素的垂直滚动条位置

## 遍历

### 过滤

#### eq() 

减少匹配元素的集合为指定的索引的哪一个元素

#### filter() 

筛选元素集合中匹配表达式 或 通过传递函数测试的 那些元素集合

#### first() 

获取匹配元素集合中第一个元素

#### last() 

获取匹配元素集合中最后一个元素

#### has() 

筛选匹配元素集合中的那些有相匹配的选择器或 DOM 元素的后代元素

#### is() 

判断当前匹配的元素集合中的元素，是否为一个选择器，DOM 元素，或者一个 jQuery 对象，如果这些元素至少一个匹配给定的参数，那么返回 true

#### not() 

从匹配的元素集合中移除指定的元素

#### map() 

通过一个函数匹配当前集合中的每个元素，产生一个包含新的 jQuery 对象

#### slice() 

根据指定的下标范围，过滤匹配的元素集合，并产生一个新的 jQuery 对象

### 其它遍历

#### add() 

添加元素到匹配的元素集合

#### contents() 

获得匹配元素集合中每个元素的子元素，包括文字和注释节点

#### end() 

终止在当前链的最新过滤操作，并返回匹配的元素的以前的状态

### 树遍历

#### children()

获得匹配元素集合中每个元素的直接子元素，选择器选择性筛选

#### closest()

从元素本身开始，在 DOM 树上逐级向上级元素匹配，并返回最先匹配的祖先元素

#### find()

通过一个选择器，jQuery 对象，或元素过滤，得到当前匹配的元素集合中每个元素的后代

#### next()

取得匹配的元素集合中每一个元素紧邻的后面同辈元素的元素集合。如果提供一个选择器，那么只有紧跟着的兄弟元素满足选择器时，才会返回此元素

#### nextAll()

获得每个匹配元素集合中所有下面的同辈元素，选择性筛选的选择器

#### nextUntil()

通过选择器，DOM 节点，或 jQuery 对象得到每个元素之后的所有兄弟元素，但不包括匹配的元素

#### parent()

取得匹配元素集合中，每个元素的父元素，可以提供一个可选的选择器

#### parents()

获取集合中每个匹配元素的祖先元素，可以提供一个可选的选择器作为参数

#### offsetParent()

取得离指定元素最近的含有定位信息的祖先元素。含有定位信息的元素指的是，CSS 的 position 属性是 relative、absolute 或 fixed 的元素

#### parentsUntil()

查找当前元素的所有前辈元素，直到遇到选择器，DOM 节点或 jQuery 对象匹配的元素为止，但不包括这些元素

#### prev()

取得一个包含匹配的元素集合中每一个元素紧邻的前一个同辈元素的元素集合。选择性筛选的选择器

#### prevAll()

获取集合中每个匹配元素的所有前面的兄弟元素，选择性筛选的选择器

#### prevUntil()

获取每个元素但不包括选择器，DOM 节点，或者 jQueryt 对象匹配的元素的所有前面的兄弟元素

#### .siblings()

获得匹配元素集合中每个元素的兄弟元素，可以提供一个可选的选择器

## 特效

### 隐藏与显示

#### hide()

#### show()

### 淡入淡出

#### fadeIn()

#### fadeOut()

#### fadeToggle()

> 这两个方法也可以改变元素的透明度

### 滑动

#### slideDown()

#### slideUp()

#### slideToggle()

### 回调

动画执行后能执行的一个方法或能做的一件事情

### 自定义

#### animate()

4 个参数：

1. css 指针和值的对象，对象将根据这组值进行改变

   > 所有用于动画的属性必须是数字的，颜色类是不能被使用的

2. 动画执行的时长，可以是数字（毫秒），也可以是："fast"，"slow"

3. 动画执行的过渡类型："linear"（线性），"swing"（曲线型）

4. 回调函数：动画执行完毕后执行的函数

#### clearQueue()

从队列中移除所有未执行的项

#### delay()

设置一个延时来推迟执行队列中后续的项

#### finish()

停止当前正在运行的动画，删除所有排队的动画，并完成匹配元素所有的动画

#### stop()

停止匹配元素当前正在运行的动画

## 实例

### 幽灵按钮

也叫透明按钮，顾名思义，也就是在设计网页中的按钮时，不再设计复杂色彩、样式和纹理，而是仅以线框示意轮廓，内只用文字示意功能，背影透出，与整个页面/背景合而为一的设计方式。国外的设计师称之为“幽灵按钮”（Ghost Buttons），盛赞这种按钮通透简约，贴合整体风格又不失神韵，别具魅力。这种按钮的设计早已有之，但是在 iOS 和 Android 双双风格转向之后，成了网页设计的新趋势，拥有类似设计的网页设计作品如雨后春笋一般，映入眼帘。

### 瀑布流



